# 发布调度约束配置
scheduling:
  # 时间约束
  time_constraints:
    working_hours:
      start: "09:00"
      end: "17:00"
      timezone: "Asia/Shanghai"
    
    # 禁止发布的时间段
    blackout_periods:
      - name: "Chinese_New_Year"
        start_date: "2023-01-21"
        end_date: "2023-01-27"
        reason: "春节假期"
      
      - name: "National_Day"
        start_date: "2023-10-01"
        end_date: "2023-10-07"
        reason: "国庆假期"
      
      - name: "Double_11"
        start_date: "2023-11-11"
        end_date: "2023-11-11"
        reason: "双十一购物节"
  
  # 发布频率约束
  frequency_constraints:
    max_releases_per_day: 2
    max_releases_per_week: 5
    min_interval_between_releases_hours: 6
    max_releases_per_month: 15
  
  # 批次大小约束
  batch_size_constraints:
    min_batch_size_ratio: 0.05
    max_batch_size_ratio: 0.5
    default_batch_size_ratio: 0.2
    incremental_step: 0.1
  
  # 环境约束
  environment_constraints:
    max_concurrent_releases: 1
    required_environment_health: 0.95
    min_available_capacity: 0.8
  
  # 依赖约束
  dependency_constraints:
    database_migration_lock: true
    api_version_compatibility: true
    third_party_service_availability: true

# 风险评估配置
risk_assessment:
  high_risk_indicators:
    - database_schema_changes
    - breaking_api_changes
    - new_third_party_dependencies
    - major_ui_redesign
  
  medium_risk_indicators:
    - new_feature_additions
    - api_endpoint_additions
    - ui_enhancements
    - performance_optimizations
  
  low_risk_indicators:
    - bug_fixes
    - minor_ui_adjustments
    - documentation_updates
    - configuration_changes

# 监控和告警配置
monitoring:
  metrics_to_monitor:
    - error_rate
    - response_latency
    - throughput
    - user_satisfaction
  
  alert_thresholds:
    error_rate_increase: 0.05
    latency_increase: 0.1
    throughput_decrease: 0.15
    user_complaint_increase: 50
  
  monitoring_duration_minutes: 60
  auto_rollback_enabled: true

